name: Install Ansible and run playbook on self-hosted runner

on: [push]

jobs:

  build:
    
    #runs-on: controller-ub
    #runs-on: self-hosted
    runs-on: vps-ubuntu-ovh

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.10.12

    - name: print hostname
      run: hostname

    # - name: Install Ansible
    #   run: |
    #     python -m pip install --upgrade pip
    #     pip install ansible

    - name: Run playbook_1
      run: |
        ansible-playbook playbook_1.yaml
